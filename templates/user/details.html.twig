{% extends 'base.html.twig' %}

{% block title %}Details du stagiaire{% endblock %}

{% block body %}

<div class="content">

    <h1>Details du stagiaire</h1>
    <a href="{{ path('edit_user', {'id' : user.id}) }}">edit</a><br>
    <a href="{{ path('delete_user', {'id' : user.id}) }}">delete</a>
    

    {% if user %}

    {# affichage de ses infos #}
      <table>

        <thead>
            <tr>
              <th><h2>Fiche stagiaire</h2></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Nom : {{ user.nom }}</td>
            </tr>
            <tr>
                <td>Prenom : {{ user.prenom }}</td>
            </tr>
            <tr>
                <td>civilité : {{ user.sexe }}</td>
            </tr>
            <tr>
                <td>Ville : {{ user.ville }}</td>
            </tr>
            <tr>
                <td>Telephone : {{ user.telephone }}</td>
            </tr>
            <tr>
                <td>email : {{ user.email }}</td>
            </tr>
            {% if is_granted('ROLE_ADMIN') %}
            <tr>
                <td>Role : {{ user.roles|join(', ') }}</td>
            </tr>
            {% endif %}
            
        </tbody>
      </table>

      <div>
        {% if user.sessions |length == 0  %} 
            <h2>pas encore inscrit à une session.</h2>
        {% else %}
            <h2>Inscrit à ces session :</h2>
            <div>
            {% for session in user.sessions %}
                <p>
                {{ session}}
                </p>
            {% endfor %}
            </div>
        {% endif %}
      </div>

     
         
    {% else %}
      <p>Il semblerait que ce stagiaire n'existe pas en base de données.</p>
    {% endif %}
</div>
{% endblock %}